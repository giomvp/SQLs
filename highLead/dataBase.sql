/****** TM TEST  ******/

/* DOCUMENT HEADERS */
CREATE TABLE OQUT(
	[DocEntry] [int] NOT NULL,
	[DocNum] [int] NULL,
	[DocDate] [datetime] NULL,
	[ObjType] [int] NULL,
	[CardCode] [nvarchar](15) NULL,
	[SlpCode] [int] NULL
);
CREATE TABLE ORDR(
	[DocEntry] [int] NOT NULL,
	[DocNum] [int] NULL,
	[DocDate] [datetime] NULL,
	[ObjType] [int] NULL,
	[CardCode] [nvarchar](50) NULL,
	[SlpCode] [int] NULL
);
CREATE TABLE OINV(
	[DocEntry] [int] NOT NULL,
	[DocNum] [int] NULL,
	[DocDate] [datetime] NULL,
	[ObjType] [int] NULL,
	[CardCode] [nvarchar](50) NULL,
	[SlpCode] [int] NULL
);
CREATE TABLE ORIN(
	[DocEntry] [int] NOT NULL,
	[DocNum] [int] NULL,
	[DocDate] [datetime] NULL,
	[ObjType] [int] NULL,
	[CardCode] [nvarchar](50) NULL,
	[SlpCode] [int] NULL
);
/* DOCUMENT LINES */
CREATE TABLE QUT1(
	[DocEntry] [int] NOT NULL,
	[LineNum] [int] NOT NULL,
	[ItemCode] [nvarchar](50) NULL,
	[Quantity] [numeric](19, 6) NULL,
	[BaseEntry] [int] NULL,
	[BaseType] [int] NULL,
	[BaseLine] [int] NULL,
	[VatSum] [numeric](19, 6) NULL,
	[LineTotal] [numeric](19, 6) NULL
);
CREATE TABLE RDR1(
	[DocEntry] [int] NOT NULL,
	[LineNum] [int] NOT NULL,
	[ItemCode] [nvarchar](50) NULL,
	[Quantity] [numeric](19, 6) NULL,
	[BaseEntry] [int] NULL,
	[BaseType] [int] NULL,
	[BaseLine] [int] NULL,
	[VatSum] [numeric](19, 6) NULL,
	[LineTotal] [numeric](19, 6) NULL
);
CREATE TABLE INV1(
	[DocEntry] [int] NOT NULL,
	[LineNum] [int] NOT NULL,
	[ItemCode] [nvarchar](50) NULL,
	[Quantity] [numeric](19, 6) NULL,
	[BaseEntry] [int] NULL,
	[BaseType] [int] NULL,
	[BaseLine] [int] NULL,
	[VatSum] [numeric](19, 6) NULL,
	[LineTotal] [numeric](19, 6) NULL
);
CREATE TABLE RIN1(
	[DocEntry] [int] NOT NULL,
	[LineNum] [int] NOT NULL,
	[ItemCode] [nvarchar](50) NULL,
	[Quantity] [numeric](19, 6) NULL,
	[BaseEntry] [int] NULL,
	[BaseType] [int] NULL,
	[BaseLine] [int] NULL,
	[VatSum] [numeric](19, 6) NULL,
	[LineTotal] [numeric](19, 6) NULL
);
/* CLIENTS */
CREATE TABLE OCRD(
	[CardCode] [nvarchar](50) NULL,
	[CardName] [nvarchar](100) NULL,
	[LicTradNum] [nvarchar](50) NULL
);
/* ITEMS */
CREATE TABLE OITM(
	[ItemCode] [nvarchar](50) NULL,
	[ItemName] [nvarchar](100) NULL,
	[CodBars] [nvarchar](50) NULL
);
/* SALES PERSON */
CREATE TABLE OSLP(
	[SlpCode] [int] NULL,
	[SlpName] [nvarchar](100) NULL
);

/*  TEST DATA */
INSERT INTO OSLP VALUES (-1, '-Ningún empleado del departament');
INSERT INTO OSLP VALUES (1, 'Gerente de Ventas');
INSERT INTO OSLP VALUES (2, 'José Pérez');
INSERT INTO OSLP VALUES (3, 'Francisco Cárdenas');
INSERT INTO OSLP VALUES (4, 'Ana Trujillo');
INSERT INTO OSLP VALUES (5, 'Mariana Franco');
INSERT INTO OSLP VALUES (6, 'Roberto Contreras');
INSERT INTO OSLP VALUES (50, 'Usuario Vendedor');

INSERT INTO OCRD VALUES ('A0001', 'Carolina Bocaranda', '0264567891001');
INSERT INTO OCRD VALUES ('C00001', 'CLIENTE WEBSTORE', NULL);
INSERT INTO OCRD VALUES ('C20000', 'Maxi-Teq', '25-987634');
INSERT INTO OCRD VALUES ('C25000', 'Repuestos Panama', '12-2822630');
INSERT INTO OCRD VALUES ('C30000', 'Microchips', '26-487636');
INSERT INTO OCRD VALUES ('C99999', 'One Time Customer', NULL);

INSERT INTO OITM VALUES ('A00001', 'J.B. Officeprint 1420', '000012365');
INSERT INTO OITM VALUES ('A00002', 'J.B. Officeprint 1111', NULL);
INSERT INTO OITM VALUES ('B10000', 'Printer Label', NULL);
INSERT INTO OITM VALUES ('C00001', 'Motherboard BTX', NULL);
INSERT INTO OITM VALUES ('C00003', 'Quadcore CPU 3.4 GHz', NULL);
INSERT INTO OITM VALUES ('C00008', 'Computer Monitor 24" HDMI', NULL);
INSERT INTO OITM VALUES ('S10000', 'Server Point 10000', NULL);

INSERT INTO OQUT VALUES (481,481, '2019-03-28 12:00:00', 23, 'C20000', 2);
INSERT INTO OQUT VALUES (482,482, '2019-03-28 12:00:00', 23, 'C25000', 1);
INSERT INTO OQUT VALUES (483,483, '2021-01-14 12:00:00', 23, 'C20000', 2);
INSERT INTO OQUT VALUES (484,484, '2021-01-14 12:00:00', 23, 'C20000', 2);
INSERT INTO OQUT VALUES (485,485, '2021-01-15 12:00:00', 23, 'A0001', -1);
INSERT INTO OQUT VALUES (487,487, '2021-09-06 12:00:00', 23, 'A0001', -1);
INSERT INTO OQUT VALUES (488,488, '2021-11-15 12:00:00', 23, 'A0001', -1);
INSERT INTO ORDR VALUES (500,500, '2021-01-14 12:00:00', 17, 'C20000', 2);
INSERT INTO ORDR VALUES (501,501, '2021-01-15 12:00:00', 17, 'C20000', 2);
INSERT INTO ORDR VALUES (502,502, '2021-01-15 12:00:00', 17, 'A0001', -1);
INSERT INTO ORDR VALUES (508,508, '2021-10-21 12:00:00', 17, 'A0001', -1);
INSERT INTO ORDR VALUES (509,509, '2021-11-15 12:00:00', 17, 'A0001', -1);
INSERT INTO OINV VALUES (536,536, '2019-03-28 12:00:00', 13, 'C20000', 2);
INSERT INTO OINV VALUES (543,543, '2021-01-14 12:00:00', 13, 'C20000', 2);
INSERT INTO OINV VALUES (544,544, '2021-01-15 12:00:00', 13, 'C20000', 2);
INSERT INTO OINV VALUES (545,545, '2021-01-15 12:00:00', 13, 'C20000', 2);
INSERT INTO OINV VALUES (547,547, '2021-01-18 12:00:00', 13, 'A0001', -1);
INSERT INTO OINV VALUES (556,556, '2021-05-21 12:00:00', 13, 'A0001', -1);
INSERT INTO OINV VALUES (557,557, '2021-05-21 12:00:00', 13, 'A0001', -1);
INSERT INTO OINV VALUES (558,558, '2021-05-21 12:00:00', 13, 'A0001', -1);
INSERT INTO OINV VALUES (560,560, '2021-06-17 12:00:00', 13, 'A0001', -1);
INSERT INTO ORIN VALUES (10,10, '2020-07-21 12:00:00', 14, 'C20000', 2);
INSERT INTO ORIN VALUES (12,12, '2020-07-21 12:00:00', 14, 'C20000', 2);
INSERT INTO ORIN VALUES (13,13, '2021-01-14 12:00:00', 14, 'C20000', 2);
INSERT INTO ORIN VALUES (14,14, '2021-01-15 12:00:00', 14, 'C20000', 2);
INSERT INTO ORIN VALUES (15,15, '2021-07-21 12:00:00', 14, 'A0001', -1);
INSERT INTO ORIN VALUES (16,16, '2021-11-12 12:00:00', 14, 'A0001', -1);

INSERT INTO QUT1 VALUES (481, 0, 'A00002', 1.000000, NULL, -1, NULL, 21.000000, 300.000000);
INSERT INTO QUT1 VALUES (481, 1, 'A00002', 1.000000, NULL, -1, NULL, 7.000000, 100.000000);
INSERT INTO QUT1 VALUES (482, 0, 'A00002', 1.000000, NULL, -1, NULL, 24.500000, 350.000000);
INSERT INTO QUT1 VALUES (482, 1, 'A00002', 1.000000, NULL, -1, NULL, 14.000000, 200.000000);
INSERT INTO QUT1 VALUES (483, 0, 'C00008', 50.000000, NULL, -1, NULL, 997.500000, 14250.000000);
INSERT INTO QUT1 VALUES (483, 1, 'B10000', 50.000000, NULL, -1, NULL, 5.250000, 75.000000);
INSERT INTO QUT1 VALUES (483, 2, 'S10000', 50.000000, NULL, -1, NULL, 8953.880000, 127912.500000);
INSERT INTO QUT1 VALUES (484, 0, 'C00008', 50.000000, NULL, -1, NULL, 840.000000, 12000.000000);
INSERT INTO QUT1 VALUES (484, 1, 'B10000', 50.000000, NULL, -1, NULL, 5.250000, 75.000000);
INSERT INTO QUT1 VALUES (484, 2, 'S10000', 50.000000, NULL, -1, NULL, 4974.380000, 71062.500000);
INSERT INTO QUT1 VALUES (485, 0, 'C00003', 40.000000, NULL, -1, NULL, 637.000000, 9100.000000);
INSERT INTO QUT1 VALUES (487, 0, 'A00001', 1.000000, NULL, -1, NULL, 45.500000, 650.000000);
INSERT INTO QUT1 VALUES (488, 0, 'A00001', 1.000000, NULL, -1, NULL, 28.000000, 400.000000);
INSERT INTO RDR1 VALUES (500, 0, 'C00008', 50.000000, 483, 23, 0, 997.500000, 14250.000000);
INSERT INTO RDR1 VALUES (500, 1, 'B10000', 50.000000, 483, 23, 1, 5.250000, 75.000000);
INSERT INTO RDR1 VALUES (500, 2, 'S10000', 50.000000, 483, 23, 2, 8953.880000, 127912.500000);
INSERT INTO RDR1 VALUES (501, 0, 'C00008', 50.000000, 484, 23, 0, 840.000000, 12000.000000);
INSERT INTO RDR1 VALUES (501, 1, 'B10000', 50.000000, 484, 23, 1, 5.250000, 75.000000);
INSERT INTO RDR1 VALUES (501, 2, 'S10000', 50.000000, 484, 23, 2, 4974.380000, 71062.500000);
INSERT INTO RDR1 VALUES (502, 0, 'C00003', 40.000000, 485, 23, 0, 637.000000, 9100.000000);
INSERT INTO RDR1 VALUES (508, 0, 'A00001', 1.000000, 487, 23, 0, 45.500000, 650.000000);
INSERT INTO RDR1 VALUES (509, 0, 'A00001', 1.000000, 488, 23, 0, 28.000000, 400.000000);
INSERT INTO INV1 VALUES (536, 0, 'A00002', 1.000000, 481, 23, 0, 21.000000, 300.000000);
INSERT INTO INV1 VALUES (536, 1, 'A00002', 1.000000, 481, 23, 1, 7.000000, 100.000000);
INSERT INTO INV1 VALUES (543, 0, 'C00008', 45.000000, 546, 15, 0, 897.750000, 12825.000000);
INSERT INTO INV1 VALUES (543, 1, 'B10000', 45.000000, 546, 15, 1, 4.720000, 67.500000);
INSERT INTO INV1 VALUES (543, 2, 'S10000', 45.000000, 546, 15, 2, 8058.490000, 115121.250000);
INSERT INTO INV1 VALUES (544, 0, 'C00008', 50.000000, 501, 17, 0, 840.000000, 12000.000000);
INSERT INTO INV1 VALUES (544, 1, 'B10000', 50.000000, 501, 17, 1, 5.250000, 75.000000);
INSERT INTO INV1 VALUES (544, 2, 'S10000', 50.000000, 501, 17, 2, 4974.380000, 71062.500000);
INSERT INTO INV1 VALUES (545, 0, 'C00008', 5.000000, 501, 17, 0, 84.000000, 1200.000000);
INSERT INTO INV1 VALUES (545, 1, 'B10000', 5.000000, 501, 17, 1, 0.530000, 7.500000);
INSERT INTO INV1 VALUES (547, 0, 'A00001', 5.000000, 548, 15, 0, 245.000000, 3500.000000);
INSERT INTO INV1 VALUES (547, 1, 'A00002', 5.000000, 548, 15, 1, 122.500000, 1750.000000);
INSERT INTO INV1 VALUES (556, 0, 'C00001', 1.000000, 553, 13, 0, 49.000000, 700.000000);
INSERT INTO INV1 VALUES (557, 0, 'C00001', 1.000000, 552, 13, 0, 35.000000, 700.000000);
INSERT INTO INV1 VALUES (558, 0, 'C00001', 1.000000, 551, 13, 0, 46.550000, 700.000000);
INSERT INTO INV1 VALUES (560, 0, 'C00003', 10.000000, 502, 17, 0, 159.250000, 2275.000000);
INSERT INTO RIN1 VALUES (10, 0, 'A00002', 1.000000, 536, 13, 0, 21.000000, 300.000000);
INSERT INTO RIN1 VALUES (10, 1, 'A00002', 1.000000, 536, 13, 1, 7.000000, 100.000000);
INSERT INTO RIN1 VALUES (12, 0, 'A00002', 1.000000, 10, 14, 0, 21.000000, 300.000000);
INSERT INTO RIN1 VALUES (12, 1, 'A00002', 1.000000, 10, 14, 1, 7.000000, 100.000000);
INSERT INTO RIN1 VALUES (13, 0, 'C00008', 5.000000, 2, 234000031, 0, 99.750000, 1425.000000);
INSERT INTO RIN1 VALUES (13, 1, 'B10000', 5.000000, 2, 234000031, 1, 0.520000, 7.500000);
INSERT INTO RIN1 VALUES (13, 2, 'S10000', 5.000000, 2, 234000031, 2, 895.390000, 12791.250000);
INSERT INTO RIN1 VALUES (14, 3, 'C00008', 5.000000, 544, 13, 0, 84.000000, 1200.000000);
INSERT INTO RIN1 VALUES (14, 4, 'B10000', 5.000000, 544, 13, 1, 0.520000, 7.500000);
INSERT INTO RIN1 VALUES (14, 5, 'S10000', 5.000000, 544, 13, 2, 497.440000, 7106.250000);
INSERT INTO RIN1 VALUES (15, 0, 'C00003', 1.000000, 560, 13, 0, 15.930000, 227.500000);
INSERT INTO RIN1 VALUES (16, 0, 'A00001', 3.000000, 561, 13, 1, 84.000000, 1200.000000);